# 测试用例

**状态**: ✅ 已验证
**最后更新**: 2026-01-28

---

## 测试样本

### 用户提供的样本文件

| Unicode | 首字节 | Bit 7 | 编码 | 列数 | 匹配度 | 状态 |
|---------|--------|-------|------|------|--------|------|
| U+6CC3 | 0x8F | 1 | 特殊 | 14 | 81.7% | 坏 |
| U+6CC4 | 0x00 | 0 | 标准 | 15 | **100%** | 好 ✅ |
| U+6CC5 | 0x90 | 1 | 特殊 | 14 | 88.1% | 坏 |
| U+6CC6 | 0x40 | 0 | 标准 | 15 | **100%** | 好 ✅ |
| U+6CC7 | 0x90 | 1 | 特殊 | 14 | 80.8% | 坏 |

---

## 列数验证

通过对比样本文件发现：

### 标准编码字符
- 首字节 < 0x80
- 使用 **15 列** × 16 行
- 示例: sample_6cc4.txt, sample_6cc6.txt

### 特殊编码字符
- 首字节 ≥ 0x80
- 使用 **14 列** × 15-16 行
- 示例: sample_6cc5.txt, sample_6cc7.txt

---

## 扫描公式验证

```
scan_interval = 33
scan_start = 2 * (table_idx % 33) + 8
```

所有报告的坏字位置都完全对齐扫描公式：

| 坏字 | 偏移 | 位置计算 | 是否整数 |
|------|------|----------|----------|
| 0x1F29 | 0x1F29 | 241.00 | ✅ |
| 0x3CCF | 0x3CCF | 471.00 | ✅ |
| 0x3D95 | 0x3D95 | 477.00 | ✅ |
| 0x6759 | 0x6759 | 801.00 | ✅ |
| 0x805B | 0x805B | 995.00 | ✅ |

**结论**: 扫描公式正确，问题在于编码方式的选择。

---

## 匹配误差分析

### 汉明距离分布

- 56% 的行接近正确 (汉明距离 ≤ 3)
- 25% 的行部分正确 (汉明距离 4-7)
- 19% 的行完全错误 (汉明距离 ≥ 8)

### 错误分布

- 列 1-2: 少量错误 (1-2个)
- 列 5-7: 中等错误 (1-2个)
- 列 8-12: 大量错误 (2-5个)

---

## 已知好字符

| Unicode | 字符 | 首字节 | 编码 | 列数 | 匹配度 |
|---------|------|--------|------|------|--------|
| U+6CC4 | | 0x00 | 标准 | 15 | 100% |
| U+6CC6 | | 0x40 | 标准 | 15 | 100% |

---

## 已知坏字符

| Unicode | 字符 | 首字节 | 编码 | 列数 | 匹配度 |
|---------|------|--------|------|------|--------|
| U+6CC3 | | 0x8F | 特殊 | 14 | 81.7% |
| U+6CC5 | | 0x90 | 特殊 | 14 | 88.1% |
| U+6CC7 | | 0x90 | 特殊 | 14 | 80.8% |

---

**参见**:
- [已知正确字符](./KNOWN_GOOD_CHARS.md)
- [已知错误字符](./KNOWN_BAD_CHARS.md)
