# 执行摘要

**状态**: ✅ 核心发现已验证
**最后更新**: 2026-01-29

---

## 核心发现

### 1. Unicode → r5 映射 ✅ **已验证** (2026-01-29)

**映射代码**: `0x02D4E6: asrs r5, r7, #2`
**映射公式**: `r5 = Unicode >> 2`
**像素地址**: `0x100000 + (Unicode >> 2) * 4`

**验证结果**: 5 个测试字符，100% 验证通过

| 字符 | Unicode | r5 = U>>2 | 像素地址 | 状态 |
|------|---------|-----------|----------|------|
| 一 | U+4E00 | 0x1380 | 0x104E00 | ✅ |
| 二 | U+4E8C | 0x13A3 | 0x104E8C | ✅ |
| 三 | U+4E09 | 0x1382 | 0x104E08 | ✅ |
| 沨 | U+6CA8 | 0x1B2A | 0x106CA8 | ✅ |
| 福 | U+798F | 0x1E63 | 0x10798C | ✅ |

### 2. 0x2D680 死代码确认 ✅ (2026-01-29)

**结论**: 0x2D680-0x2D68E 是未被调用的死代码

**证据**:
- 搜索范围: 0x2D680 ± 4KB
- 搜索方法: B/BL 指令模式匹配
- 结果: **0 条跳转指令**

### 3. 像素数据位置 ✅

```
r6 = 0x100000 + r5 × 4
像素数据从 r6 + 6 开始（跳过 6 字节元数据）
```

### 4. 编码判定机制 ✅

```
encoding = (metadata[0] >> 4) >= 0x8 ? 特殊编码 : 标准编码
```

| metadata[0] 高4位 | 编码类型 | 列数 |
|------------------|----------|------|
| 0x0-0x7 | 标准 | 15 |
| 0x8-0xF | 特殊 | 14 |

### 5. 两条渲染路径的关系 ✅

| 路径 | 地址 | 状态 | 说明 |
|------|------|------|------|
| 主路径 | 0x2DB58 | ✅ 实际使用 | 所有字符都使用 |
| 0x2DC22 | 0x2DC22 | ❌ 死代码 | 不执行，会导致无效内存访问 |
| 0x2D680 | 0x2D680 | ❌ 死代码 | 未被调用 (2026-01-29 确认) |

---

## 渲染管线总览

```
Unicode 字符
    │
    ▼
[Unicode → r5 映射]
    │
    ▼
[设置渲染上下文]
    │
    ▼
[调用渲染函数 0x2D3C6]
    │
    ▼
[编码类型判定 @ 0x2DB12]
    │
    ├─ 标准 (15列) ──┐
    │                │
    └─ 特殊 (14列) ──┤
                     │
                     ▼
              [0x2DB58: 像素数据加载]
                     │
                     ▼
              [渲染到显示缓冲区]
```

---

## 已解决的问题

| 问题 | 状态 | 日期 |
|------|------|------|
| 像素数据位置 | ✅ | 2026-01-28 |
| 编码类型判定 | ✅ | 2026-01-28 |
| Unicode → r5 映射 | ✅ | 2026-01-28 |
| 0x2DC22 路径状态 | ✅ | 2026-01-28 |

---

**参见**: [完整渲染管线](../02_ARCHITECTURE/RENDERING_PIPELINE.md)
